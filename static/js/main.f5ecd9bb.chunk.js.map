{"version":3,"sources":["utils/api.js","utils/auth.js","contexts/CurrentUserContext.js","components/ProtectedRoute.js","components/Card.js","components/Header.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/AuthForm.js","components/Register.js","components/Login.js","components/InfoTooltip.js","images/tick-mark.svg","images/cross-mark.svg","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","baseUrl","headers","res","ok","json","console","log","Promise","reject","Error","status","fetch","method","then","showError","card","body","JSON","stringify","_id","name","about","avatar","isLiked","authorization","BASE_URL","CurrentUserContext","React","createContext","ProtectedRoute","Component","component","props","loggedIn","to","Card","currentUserInfo","useContext","isOwn","owner","likes","some","i","cardLikeButtonClassName","className","onClick","onCardClick","alt","src","link","onCardLike","type","length","onCardDelete","Header","exact","path","email","signOut","Main","onEditAvatar","id","onEditProfile","onAddPlace","cards","Footer","thisYear","Date","getFullYear","PopupWithForm","isOpen","noValidate","onSubmit","onClose","aria-label","title","children","buttonTitle","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","required","value","onChange","target","placeholder","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","ImagePopup","AuthForm","handleEmailChange","password","handlePasswordChange","Register","setEmail","setPassword","onRegister","Login","onLogin","InfoToolTip","content","text","App","history","useHistory","isLoggedIn","setIsLoggedIn","userEmail","setUserEmail","handleLogIn","token","localStorage","getItem","data","catch","err","auth","push","message","undefined","infoTooltip","setInfoTooltip","isInfoTooltipOpen","setInfoTooltipOpen","handleInfoTooltip","handleInfoTooltipContent","tickMark","crossMark","currentUser","setCurrentUser","getUserInfo","handleCurrentUserInfo","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","handleCardClick","closeAllPopups","setCards","handleCardLike","changeLikeCardStatus","newCard","newCards","map","c","handleCardDelete","deleteCard","filter","getInitialCards","handleInitialCards","renderedCards","Provider","removeItem","setItem","changeUserAvatar","editUserInfo","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.f5ecd9bb.chunk.js","sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n  \n  // Показать ошибку в консоли\n  showError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n      console.log(res);\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  // Получить список всех карточек в виде массива\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'GET',\n      headers: this.headers\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Добавить карточку\n  postCard(card) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify(card)\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Удалить карточку\n  deleteCard(card) {\n    return fetch(`${this.baseUrl}/cards/${card._id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Получить данные пользователя\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this.headers\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Заменить данные пользователя\n  editUserInfo({ name, about }) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({ name, about })\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Заменить аватар\n  changeUserAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({ avatar })\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Поставить или убрать лайк\n  changeLikeCardStatus(card, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.baseUrl}/cards/likes/${card._id}`, {\n        method: 'DELETE',\n        headers: this.headers,\n      })\n        .then(res => this.showError(res))\n    } else {\n      return fetch(`${this.baseUrl}/cards/likes/${card._id}`, {\n        method: 'PUT',\n        headers: this.headers,\n      })\n        .then(res => this.showError(res))\n    }\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\n  headers: {\n    authorization: '6e218dd6-3398-4e8b-ab7c-72e842f1ee4b',\n    \"Content-Type\": \"application/json\"\n  }\n})","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\n// Обработка запроса регистрации пользователя\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then((res) => {\r\n      try {\r\n        if (res.status === 201) {\r\n          return res.json();\r\n        }\r\n      } catch (err) {\r\n        return (err)\r\n      }\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n// Обработка запроса авторизации пользователя\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((res => res.json()))\r\n  .then((data) => {\r\n    if (data.token){\r\n      localStorage.setItem('token', data.token);\r\n      return data;\r\n    }\r\n  })\r\n  .catch(err => console.log(err));\r\n};\r\n\r\n// Обработка токена\r\nexport const getToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => data)\r\n  .catch(err => console.log(err));\r\n}","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\nexport const currentUserInfo = {\n  name: {\n  },\n  about: {\n  },\n  avatar: {\n  }\n}","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n  \n  const currentUserInfo = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки, \n  // чтобы скрыть или показать иконку удаления карточки\n  const isOwn = props.card.owner._id === currentUserInfo._id;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some(i => i._id === currentUserInfo._id);\n\n  const cardLikeButtonClassName = `${isLiked ? 'photo-gallery__like-button photo-gallery__like-button_clicked' : 'photo-gallery__like-button'}`; \n\n  function handleCardClick() {\n    props.onCardClick(props.card);\n  }\n  \n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"photo-gallery__item\">\n      <img className=\"photo-gallery__image\" onClick={handleCardClick} alt={props.card.alt} src={props.card.link}/>\n      <h2 className=\"photo-gallery__heading\">{props.card.name}</h2>\n      <div className=\"photo-gallery__like-container\">\n        <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n        <p className=\"photo-gallery__like-counter\">{`${props.card.likes.length}`}</p>\n      </div>\n      {isOwn ? \n        <button className=\"photo-gallery__remove-button\" onClick={handleDeleteClick} type=\"button\"></button>\n      : ''}\n    </li>\n  );\n}\n\nexport default Card;","import { Route, Link } from 'react-router-dom';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n      <div className=\"header__info\">\n        <Route exact path=\"/\">\n          <p className=\"header__user\">{props.email}</p>\n          <Link to=\"/sign-in\" onClick={props.signOut} className=\"header__link\">Выйти</Link>\n        </Route>\n        <Route path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n        </Route>\n        <Route exact path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\n        </Route>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n  const currentUserInfo = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img className=\"profile__avatar\" src={`${currentUserInfo.avatar}`} alt=\"Фотография пользователя\" />\n        <button className=\"profile__edit-button profile__edit-button_avatar\" type=\"button\" onClick={props.onEditAvatar}></button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__username\">{`${currentUserInfo.name}`}</h1>\n          <button id=\"editProfilePopupOpenButton\" className=\"profile__edit-button profile__edit-button_user-info\" type=\"button\" onClick={props.onEditProfile}></button>\n          <p className=\"profile__bio\">{`${currentUserInfo.about}`}</p>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n   \n      <ul className=\"photo-gallery\">\n        {props.cards}\n      </ul>\n    </main>\n  );\n}\n\nexport default Main;","function Footer() {\n  const today = new Date();\n  const thisYear = today.getFullYear();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; { thisYear } Mesto Russia</p>\n    </footer>\n    );\n  }\n  \nexport default Footer;","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <form noValidate onSubmit={props.onSubmit} className={`popup__form popup__form_${props.name}`} name={`${props.name}-form`}>\n        <button className=\"popup__close\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть попап\"></button>\n        <h2 className=\"popup__title\">{`${props.title}`}</h2>\n        {props.children}\n        <button className=\"popup__save\" type=\"submit\" aria-label=\"Сохранить изменения\">{`${props.buttonTitle}`}</button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n  \n  const currentUserInfo = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    if (currentUserInfo) {\n      setName(currentUserInfo.name);\n      setDescription(currentUserInfo.about);\n    }\n  }, [currentUserInfo, props.isOpen]);\n\n  return (\n    <PopupWithForm isOpen={props.isOpen} onSubmit={handleSubmit} onClose={props.onClose} name=\"edit-profile\" title=\"Редактировать профиль\" buttonTitle=\"Сохранить\" children={\n      <>\n        <div className=\"popup__wrap\">\n          <input required id=\"username-input\" value={ name || ''} onChange={handleNameChange} className=\"popup__input popup__username\" name=\"name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" />\n          <span id=\"username-input-error\" className=\"popup__error-text popup__error-text_username\"></span>\n        </div>\n        <div className=\"popup__wrap\">\n          <input required id=\"bio-input\" value={description || ''} onChange={handleDescriptionChange} className=\"popup__input popup__bio\" name=\"about\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" />\n          <span id=\"bio-input-error\" className=\"popup__error-text popup__error-text_bio\"></span>\n        </div>\n      </>\n    }/>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef(0);\n\n  function resetForm() {\n    avatarRef.current.value = '';\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    resetForm();\n  }\n\n  return (\n    <PopupWithForm isOpen={props.isOpen} onSubmit={handleSubmit} onClose={props.onClose} name=\"load-avatar\" title=\"Обновить аватар\" buttonTitle=\"Сохранить\" children={\n      <>\n        <div className=\"popup__wrap\">\n          <input required id=\"avatar-link-input\" type=\"url\" ref={avatarRef} className=\"popup__input popup__avatar-link\" name=\"avatar\" placeholder=\"Ссылка на картинку\" />\n          <span id=\"avatar-link-input-error\" className=\"popup__error-text popup__error-text_avatar-link\"></span>\n        </div>\n      </>\n    }/>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [placeName, setPlaceName] = React.useState('');\n  const [placeLink, setPlaceLink] = React.useState('');\n\n  function handlePlaceNameChange(e) {\n    setPlaceName(e.target.value);\n  }\n\n  function handlePlaceLinkChange(e) {\n    setPlaceLink(e.target.value);\n  }\n\n  function resetForm() {\n    setPlaceName('');\n    setPlaceLink('');\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name: placeName,\n      link: placeLink\n    });\n    resetForm();\n  }\n\n  return (\n    <PopupWithForm isOpen={props.isOpen} onSubmit={handleSubmit} onClose={props.onClose} name=\"add-card\" title=\"Новое место\" buttonTitle=\"Создать\">\n      <div className=\"popup__wrap\">\n        <input required id=\"place-name-input\" value={placeName} onChange={handlePlaceNameChange} className=\"popup__input popup__place-name\" name=\"name\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" />\n        <span id=\"place-name-input-error\" className=\"popup__error-text popup__error-text_place-name\"></span>\n      </div>\n      <div className=\"popup__wrap\">\n        <input required id=\"place-link-input\" value={placeLink} onChange={handlePlaceLinkChange} type=\"url\" className=\"popup__input popup__place-link\" name=\"link\" placeholder=\"Ссылка на картинку\" />\n        <span id=\"place-link-input-error\" className=\"popup__error-text popup__error-text_place-link\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.card && 'popup_opened'}`}>\n      <figure className=\"popup__container popup__container_show-image\">\n        <button className=\"popup__close popup__close_show-image\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть попап\"></button>\n        <img className=\"popup__image\" alt={props.card ? props.card.alt : ''} src={props.card ? props.card.src : ''}/>\n        <figcaption className=\"popup__caption\">{props.card ? props.card.name : ''}</figcaption>\n      </figure>\n    </div>\n  );\n}\n  \nexport default ImagePopup;","function AuthForm(props) {\r\n  return (\r\n    <div className=\"auth\">\r\n      <form noValidate onSubmit={props.onSubmit} className={`auth__form auth__form_${props.name}`} name={`${props.name}-form`}>\r\n        <h2 className=\"auth__title\">{`${props.title}`}</h2>\r\n        <input required value={props.email} onChange={props.handleEmailChange} id=\"auth-email-input\" type=\"email\" className=\"auth__input auth__input_email\" placeholder=\"Email\"></input>\r\n        <input required value={props.password} onChange={props.handlePasswordChange} id=\"auth-password-input\" type=\"password\" className=\"auth__input auth__input_password\" placeholder=\"Пароль\"></input>\r\n        <button className=\"auth__save\" type=\"submit\" aria-label=\"Сохранить изменения\">{`${props.buttonTitle}`}</button>\r\n        {props.children}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthForm;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AuthForm from \"./AuthForm\";\r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value)\r\n  };\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value)\r\n  };\r\n\r\n  function resetForm() {\r\n    setEmail('');\r\n    setPassword('')\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegister(email, password);\r\n    resetForm();\r\n  }\r\n\r\n  return (\r\n    <AuthForm onSubmit={handleSubmit} email={email || ''} handleEmailChange={handleEmailChange} password={password || ''} handlePasswordChange={handlePasswordChange} name=\"signup\" title=\"Регистрация\" buttonTitle=\"Зарегистрироваться\" children={\r\n      <>\r\n        <p className=\"auth__hint\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"auth__link\">Войти</Link></p>\r\n      </>\r\n    }/>\r\n  );\r\n}\r\n  \r\nexport default Register;","import React from 'react';\r\n\r\nimport AuthForm from \"./AuthForm\";\r\n\r\nfunction Login(props) {\r\n  \r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value)\r\n  };\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value)\r\n  };\r\n\r\n  function resetForm() {\r\n    setEmail('');\r\n    setPassword('')\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onLogin(email, password);\r\n    resetForm();\r\n  }\r\n\r\n  return (\r\n    <AuthForm onSubmit={handleSubmit} email={email || ''} handleEmailChange={handleEmailChange} password={password || ''} handlePasswordChange={handlePasswordChange} name=\"signin\" title=\"Вход\" buttonTitle=\"Войти\"/>\r\n  );\r\n}\r\n  \r\nexport default Login;","function InfoToolTip(props) {\r\n  return (\r\n    <div className={`popup popup_tooltip ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__tooltip\">\r\n        <button className=\"popup__close\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть попап\"></button>\r\n        <img className=\"popup__tooltip-image\" src={props.content ? props.content.src: ''} />\r\n        <p className=\"popup__tooltip-text\">{props.content ? props.content.text : ''}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n  \r\nexport default InfoToolTip;","export default __webpack_public_path__ + \"static/media/tick-mark.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/cross-mark.df8eddf6.svg\";","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n\nimport { api } from '../utils/api';\nimport * as auth from '../utils/auth';\n\nimport '../index.css';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport ProtectedRoute from './ProtectedRoute';\n\nimport Card from './Card';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\n\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport InfoToolTip from './InfoTooltip';\n\nimport tickMark from '../images/tick-mark.svg';\nimport crossMark from '../images/cross-mark.svg';\n\n\nfunction App() {\n\n  const history = useHistory();\n\n  // Хук состояния авторизован пользователь или нет\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n\n  function handleLogIn() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.getToken(token)\n        .then((res) => {\n          if (res) {\n            setIsLoggedIn(true);\n            setUserEmail(res.data.email);\n            history.push('/');\n          }\n        })\n        .catch(err => console.log(`Ошибка при запросе токена: ${err.message}`));\n    }\n  }\n\n  // Хук для попапа информирования об успешности регистрации\n  const [infoTooltip, setInfoTooltip] = React.useState(undefined);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n\n  function handleInfoTooltip() {\n    setInfoTooltipOpen(true);\n  }\n  \n  function handleInfoTooltipContent(res) {\n    if (res) {\n      setInfoTooltip({\n        src: tickMark,\n        text: 'Вы успешно зарегистрировались!',\n      });\n    } else {\n      setInfoTooltip({\n        src: crossMark,\n        text: 'Что-то пошло не так! Попробуйте ещё раз.',\n      });\n    }\n  }\n\n  // Регистрация пользователя\n  function registerUser(email, password) {\n    auth.register(email, password)\n      .then((res) => {\n        if (res) {\n          handleInfoTooltipContent(res);\n          handleInfoTooltip();\n          history.push('/sign-in');\n        } else {\n          handleInfoTooltipContent(res);\n          handleInfoTooltip();\n        }\n    })\n      .catch(err => console.log(`Ошибка при попытке регистрации пользователя: ${err.message}`));\n  }\n\n  // Авторизация пользователя\n  function authorizeUser(email, password) {\n    auth.authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          handleLogIn();\n          history.push('/');\n        }\n    })\n    .catch(err => console.log(`Ошибка при попытке входа пользователя: ${err.message}`));\n  }\n\n  // Cохранение токена для повторного входа пользователя без дополнительной авторизации\n  React.useEffect(() => {\n    handleLogIn();\n  }, [isLoggedIn]);\n\n  // Удаление токена при выходе пользователя\n  function signOut() {\n    localStorage.removeItem('token');\n    setUserEmail('');\n    history.push('/sign-in');\n  }\n\n  // Хук для установки данных пользователя в профиле\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  function handleCurrentUserInfo(res) {\n    setCurrentUser(res);\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((res) => {\n        handleCurrentUserInfo(res);\n      })\n      .catch(err => console.log(`Ошибка при обращении за информацией о пользователе: ${err.message}`))\n  }, []);\n\n  function handleUpdateUser(currentUser) {\n    api.editUserInfo(currentUser)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка при редактировании информации о пользователе: ${err.message}`))\n  }\n\n  function handleUpdateAvatar(currentUser) {\n    api.changeUserAvatar(currentUser)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка при замене аватара пользователя: ${err.message}`))\n  }\n\n  // Хук для попапа редактирования аватара\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  \n  // Хук для попапа редактирования информации о пользователе\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  \n  // Хук для попапа добавления карточки\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  // Хук для попапа показа полноразмерного изображения\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      src: card.link,\n      name: card.name,\n      alt: `Изображение под названием ${card.name}`\n    });\n  }\n\n  // Функция закрытия всех попапов\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setSelectedCard(undefined);\n    setInfoTooltipOpen(false);\n  }\n\n  // Карточки\n\n  const [cards, setCards] = React.useState([]);\n\n  function handleInitialCards(res) {\n    setCards(res);\n  }\n  \n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((res) => {\n        handleInitialCards(res);\n      })\n      .catch(err => console.log(`Ошибка при запросе начальных карточек: ${err}`))\n  }, []);\n\n  // Добавление новой карточки\n  function handleAddPlaceSubmit(card) {\n    api.postCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка при создании новой карточки: ${err}`))\n  }\n\n  // Обработка лайка\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n    api.changeLikeCardStatus(card, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка при изменении статуса лайка: ${err}`))\n  }\n  \n  // Обработка удаления карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка при удалении карточки: ${err}`))\n  }\n\n  const renderedCards = cards.map((card) => {\n    return <Card key={card._id} card={card} onCardLike={handleCardLike} onCardDelete={handleCardDelete} onCardClick={handleCardClick} \n    name={card.name} link={card.link} likes={card.likes.length} alt={`Изображение под названием ${card.name}`}/>\n  })\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <div className=\"page__container\">\n            <Header email={userEmail} signOut={signOut} />\n            <Switch>\n              <ProtectedRoute exact path=\"/\" loggedIn={isLoggedIn} component={Main}\n                cards={renderedCards} \n                onEditAvatar={handleEditAvatarClick} \n                onEditProfile={handleEditProfileClick} \n                onAddPlace={handleAddPlaceClick} \n                onCardClick={handleCardClick} />\n              <Route path=\"/sign-up\">\n                <Register onRegister={registerUser} />\n              </Route>\n              <Route path=\"/sign-in\">\n                <Login onLogin={authorizeUser} />\n              </Route>\n              <Route path=\"/\">\n                {isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n              </Route>\n            </Switch>\n            <Footer />\n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onUpdateAvatar={handleUpdateAvatar} onClose={closeAllPopups} />\n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} onClose={closeAllPopups} /> \n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onAddPlace={handleAddPlaceSubmit} onClose={closeAllPopups} />\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} name=\"show-image\" />\n            <InfoToolTip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} content={infoTooltip} />\n          </div>  \n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}